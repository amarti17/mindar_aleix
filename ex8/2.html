<html>
  <head>
    <script src="https://castelletm12b.cat/build/assets/question.js" defer></script>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent("mylink", {
        init: function() {  
          this.el.addEventListener("click", (e) => {              
            window.location = this.data.href;      
          });
        }
      });
      
      AFRAME.registerComponent("expand-on-click", {
        init: function() {
          this.isExpanded = false;
          this.originalPosition = this.el.getAttribute("position");
          this.originalScale = this.el.getAttribute("scale") || "1 1 1";
          
          this.el.addEventListener("click", () => {
            if (!this.isExpanded) {
              this.el.setAttribute("scale", "3 3 3");
            } else {
              this.el.setAttribute("scale", this.originalScale);
            }
            this.isExpanded = !this.isExpanded;
          });
        }
      });
    </script>
  </head>
  <body>
    <a-scene cursor="rayOrigin: mouse">
      <a-assets>
        <img id="fons" src="fotos/4.JPG" >
        <img id="endevinalla" src="fotos/endevinalla1.png" >
        <img id="entrarjoc" src="fotos/entragroc.png" >
        <img id="pista1" src="fotos/pista1.png" >
        <img id="pista2" src="fotos/pista1-2.png" >
      </a-assets>
      
      <a-entity camera look-controls wasd-controls="false">
        <a-entity cursor="fuse: true; fuseTimeout: 2000"
              position="0 0 -1"
              geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
              material="color: red; shader: flat"
              animation="property: components.material.material.color;
                    type: color;
                    to: white;
                    dur: 1000;
                    dir: alternate;
                    loop: true">
        </a-entity>
      </a-entity>
      
      <a-sky src="#fons"></a-sky>
      <a-plane question="15" position="0 9 -28" src="#endevinalla" rotation="0 0 0" width="10" height="10"></a-plane>

      <a-plane question="17" position="8 -7.5 -28" src="#pista1" rotation="63 0 0" width="5" height="5"></a-plane>
      <a-plane question="20" position="-47 42 -95" src="#pista2" rotation="0 0 0" width="10" height="10"></a-plane>
    </a-scene>
  </body>
</html>